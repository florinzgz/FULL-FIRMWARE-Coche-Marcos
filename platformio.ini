[env:esp32-s3-devkitc]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.flash_size = 16MB
board_build.partitions = default.csv

monitor_speed = 115200
upload_speed = 921600
upload_port = COM3
monitor_port = COM3

lib_deps =
    bodmer/TFT_eSPI @ ^2.5.43
    dfrobot/DFRobotDFPlayerMini @ ^1.0.6
    milesburton/DallasTemperature@^4.0.5
    paulstoffregen/OneWire@^2.3.8
    https://github.com/adafruit/Adafruit-PWM-Servo-Driver-Library.git
    RobTillaart/INA226 @ ^0.6.4
    https://github.com/PaulStoffregen/XPT2046_Touchscreen.git
    fastled/FastLED @ 3.6.0

build_flags =
    -DCORE_DEBUG_LEVEL=5
    -DUSER_SETUP_LOADED
    -std=gnu++17
    -DLOAD_GLCD
    -DLOAD_FONT2
    -DLOAD_FONT4
    -DLOAD_FONT6
    -DLOAD_FONT7
    -DLOAD_FONT8
    -DSMOOTH_FONT
    -Iinclude
    
    ; ========================================
    ; TFT_eSPI configuration for ST7796S (480x320)
    ; ESP32-S3-N16R8 con HSPI
    ; ========================================
    -DST7796_DRIVER
    -DTFT_WIDTH=480
    -DTFT_HEIGHT=320
    
    ; Pin mapping (must match pins.h)
    -DTFT_CS=8
    -DTFT_DC=13
    -DTFT_RST=14
    -DTFT_MOSI=11
    -DTFT_MISO=12
    -DTFT_SCLK=10
    -DTFT_BL=42
    
    ; Touch pins (XPT2046)
    -DTOUCH_CS=3
    
    ; Use HSPI bus on ESP32-S3
    -DUSE_HSPI_PORT
    
    ; SPI Frequencies
    -DSPI_FREQUENCY=27000000    ; 27MHz for TFT (ST7796S supports up to 40MHz)
    -DSPI_READ_FREQUENCY=16000000
    -DSPI_TOUCH_FREQUENCY=2500000  ; 2.5MHz for touch

    ; ðŸ”§ Suprimir warnings de librerÃ­as externas
    -w
    -Wno-unused-variable
    -Wno-unused-function
    -Wno-unknown-pragmas
    -Wno-macro-redefined
    
    ; ðŸ§ª Modo de prueba standalone (activado para test de pantalla)
    -DSTANDALONE_DISPLAY